<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[使用Hexo和Github建立个人主页]]></title>
    <url>%2F2018%2F10%2F18%2F001-%E4%BD%BF%E7%94%A8Hexo%E5%92%8CGithub%E5%BB%BA%E7%AB%8B%E4%B8%AA%E4%BA%BA%E4%B8%BB%E9%A1%B5%2F</url>
    <content type="text"><![CDATA[前言在网上搜索一些技术问题时，经常会看到一些非常简约大气的个人博客站点，所以也非常希望自己也可以搭建一个类似的个人站点。后来得知可以借助于Hexo和Github方便的生成属于自己的个人主页。 Hexo是一个快速、简洁且高效的博客框架。Hexo 使用（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。 同时Hexo也支持丰富的主题模板，在此基础上，经过简单几步指令的执行，就可以生成非常美观的个人站点。 Github提供静态网站托管服务 ，我们可以将Hexo生成的网页项目托管到Github上，这样就可以通过互联网随时随地访问我们的网站，并且 GitHub Pages 支持绑定个人域名，本文也会介绍如何在freenom上申请域名，然后绑定到GitHub Pages，这样就可以通过个人域名访问自己的网站了。 一、安装环境准备1、检测环境变量在安装Hexo之前，需要安装Git 和Node.js 。 Git是一个开源的分布式版本控制系统 ，通过它可以将我们的本地代码库方便推送到远程仓库Github。 Node.js 是一个基于 Chrome V8 引擎的 JavaScript 运行环境 ，Node.js 的包管理器 npm，是全球最大的开源库生态系统，npm类似于python中的pip。稍后便可以使用npm来安装Hexo 。 如果电脑之前安装过Git和Node.js，那么可以检测下安装环境，看是否正确安装。 检测方法，win+R键，输入cmd，在控制台窗口依次输入以下3条指令检查版本，如果都可以正确返回，说明安装没有问题。 123git --versionnode -vnpm -v 由于我的电脑之前就安装过git，但是可能环境变量出了问题，导致后面无法部署，之后添加了git/cmd环境变量，hexo环境变量又出了问题，添加了hexo，node环境变量又出了问题，之后干脆全部卸载重装了，所以检测这一步非常必要。 2、安装Git进入Git官网，下载对应版本的安装包，如果是windows，直接默认下一步安装即可，详细的安装过程和安装选项参见这篇文章： Git中文详细安装教程 3、安装Node.jsNode.js的安装也十分简便，直接去官网下载安装包，默认下一步安装即可。 安装完成后，再进行上面的检测，如果出现命令不能识别的情况，可能需要手动添加环境变量，或者重新安装。 二、Git和Github配置1、注册github账号首先需要一个github账号，如果还没有注册，进入官网注册即可，由于服务器在国外，访问速度可能不是很快。 2、创建仓库Github pages服务默认的仓库名是&lt;你的github用户名&gt; + github.io 所以需要建立一个这样的代码库，以便于存储我们的网站代码。 建立过程如下： 进入自己的github主页，点击左边的New repository按钮 Repository name填写&lt;你的github用户名&gt; + github.io，比如我的账号是wychencr，那么仓库名一定要填写wychencr.github.io，这里不能填错了 Description 可以填写一段文字描述，随便都可以，仓库属性选择public Initialize this repository with a README 可以不勾选 最后点击Create repository按钮即可 3、Git设置用户名与邮箱在桌面或其他任意位置，右键，选择git bash here，然后执行以下两条指令，”Your Name”和”email@example.com“分别填写自己的用户名和邮箱，如果之前就安装过git并且设置了个人信息，就可以忽略这个步骤。 12$ git config --global user.name &quot;Your Name&quot;$ git config --global user.email &quot;email@example.com&quot; 4、使用SSH连接Git与Github后面我们经常需要将本地代码通过git推送到github上，为了避免每次都输入密码，所以使用SSH连接。 SSH( Secure Shell )是一种安全协议，详细介绍参加这篇博文：详述SSH的原理及其应用 将Git与Github连接分为以下两步完成： 生成SSH公钥和秘钥在桌面或其他任意位置，右键，选择git bash here，然后执行以指令 1$ ssh-keygen -t rsa 表示使用RSA算法生成key，指令执行期间一直回车就可以了，最后会在用户文件夹下生成两个文件“id_rsa”和“id_rsa.pub” ，如图所示： “id_rsa.pub”对应的就是公钥，在C盘找到它，用记事本打开这个文件，复制其内容。 添加SSH公钥到github登录github账号，点击右上角的头像，选择Setting，在左侧Personal settings菜单栏选择SSH and GPG keys ，然后点击右上角的New SSH Key，将“id_rsa.pub”的内容复制到输入框中，标题title可以不填，注意SSH key 代码的前后不要留多余的空格或者回车。 添加完成后如下图所示： 这样，在传输时，远程的公钥就可以与本地的秘钥进行匹配了。 验证是否连接成功在 git bash 中输入以下指令： 1$ ssh -T git@github.com 看到以上结果说明SSH匹配成功。 三、安装Hexo1、使用npm安装Hexo进入cmd界面，输入以下指令即可安装好Hexo： 1$ npm install -g hexo-cli 如下图所示，可能等待时间稍长，我这里花了将近3分钟。 2、建立网站首先在本地电脑建立一个文件夹，用于管理和存储网站的代码，文件夹路径尽量不要有中文或者空格，避免出现意外的问题，比如我在E盘根目录建立一个HexoBlog文件夹。 然后执行下列三条指令即可建立好最基本的网站，非常便捷。 123$ hexo init &lt;folder&gt;$ cd &lt;folder&gt;$ npm install &lt;folder&gt;是刚刚在本地建立的文件夹名称，比如我建立的文件夹是HexoBlog，所以我执行的指令就是 123$ hexo init HexoBlog$ cd HexoBlog$ npm install 过程如下图所示： 此时打开E:\HexoBlog\HexoBlog目录，可以看到生成的文件目录结构为： 12345_config.yml: 网站的配置信息，您可以在此配置大部分的参数package.json: 应用程序的信息scaffolds: 模版文件夹。当新建文章时，Hexo会根据scaffold来建立文件source: 存放用户资源的地方,比如用户新建的博客文章themes： 主题文件夹，Hexo会根据主题来生成静态页面 3、启动本地服务器 执行以下指令，启动本地服务器 1$ hexo server 浏览器中访问 http://localhost:4000/ 即可浏览到Hexo生成的最基本的网站 如果出现 EADDRINUSE 错误，可以在执行时使用 -p 选项指定其他端口，如下： 1$ hexo server -p 5000 浏览器访问地址改成http://localhost:5000 四、新建和部署文章1、新建一篇文章1$ hexo new &lt;title&gt; &lt;title&gt;是文章标题，执行上述指令后，在/sources/_post文件夹下就会产生一个名为“title”的md文件，编辑它即可。 2、生成静态文件12$ hexo generate$ hexo g # 简写 当代码仓库中有文件改变时，执行上述指令可以重新生成静态文件，使改动生效。 3、本地查看效果在改动项目之后，可以先启动本地服务，在4000端口查看是否是自己预期的结果，如果没有问题，在部署到远程仓库。 12$ hexo server$ hexo s # 简写 4、部署到github此步骤可以将本地生成的项目文件推送部署到远程仓库，这样就可以使用username.github.io这样链接来访问我们的网站了。 12$ hexo deploy$ hexo d # 简写 如果是第一次部署，需要修改配置文件/HexoBlog/_config.yml： 1234deploy: type: git repo: &lt;repository url&gt; branch: [branch] [repository url]：填写之前新建的那个仓库地址，填写SSH地址，形式是 git@github.com:/.github.io.git [branch]：默认master 然后执行以下指令： 12$ npm install hexo-deployer-git --save$ hexo d 执行成功后，在github上的仓库中可以看到被部署的文件，稍微等待一段时间，就可以通过username.github.io访问到页面了。 五、更改Hexo主题1、下载主题在Hexo的主题商店 可以看到各种主题，选择自己喜欢的主题，下载压缩包，解压，放到/theme文件夹下。 以Next主题为例，首先访问Next的github仓库，下载解压，重命名为“next”，放入/theme文件夹下。 2、修改项目配置文件项目配置文件位于/HexoBlog/_config.yml，修改theme项为next： 1theme: next 注意冒号和next之间有一个空格。 3、修改主题配置文件主题配置文件位于/HexoBlog/themes/next/_config.yml。 Next主题支持四种样式效果，预览效果见官方说明文档 1234Muse 方案: LEAFERx | XiaMo | OAwansix_pointed_star Mist 方案: Jeff | uchuhimo | xirongpisces Pisces 方案: Vi | Acris | Rainygemini Gemini 方案: Ivan.Nginx | Raincal | Dandy 修改Schemes 1234scheme: Muse#scheme: Mist#scheme: Pisces#scheme: Gemini 默认是第一种，如果想改成其他效果，只要把对应项的注释取消，再把第一项注释掉即可。 修改语言 12/HexoBlog/_config.yml# language: zh-Hans 添加评论系统 进入来必力官网，使用谷歌邮箱注册登录，获取uid，然后复制到主题配置文件的livere_uid处： 添加一个标签/分类页面/社交媒体/Feed link 见官方说明文档 更多配置技巧见知乎专栏：Hexo搭建的GitHub博客之优化大全 六、一些注意事项1、博客文章中带图片的情况网上比较普遍的方案是安装一个图片上传插件，然后改成配置文件，再在资源文件夹下建立一个img文件夹，然后将图片都放到img文件夹中，然后在博文中使用相对路径。 这样做有两个问题： 一是操作相对繁琐，而是增加了仓库所占的容量，在推送到远程仓库时也会更加缓慢； 二是github pages对仓库容量有限制，不超过300M 因此推荐使用微博图床，可以在Chrome商店中搜索“微博图床”扩展，下载，之后登陆微博中账号就可以使用了。 2、Markdown写作工具推荐Typora，下载地址https://www.typora.io/ Typora是一款好用极简免费的跨平台Markdown编辑器，软件使用这款软件能够帮助用户轻松将文本转换到HTML，软件从底层向上设计，软件支持markdown的标准语法，同时这款软件还支持动态预览功能，一键预览，让一切都变得如此干净、纯粹，是一款不可多得的优质markdown编辑器。 3、Next主题自动生成目录 如果不想目录自动编号，修改主题设置文件，将number:改为false： 123456789# Table Of Contents in the Sidebartoc: enable: true # Automatically add list number to toc. number: false # If true, all words will placed on next lines if header width longer then sidebar width. wrap: false 自动生成目录混乱问题 父标题与子标题之间不能跨等级 123456H2 H4 H4H2 H4 ... 这样的结构可能就会出现问题，修改为连续的等级即可。 4、标注文章的分类和标签1234567title: xxxdate: 2018-10-18 15:14:41tags:- tag_A- tag_Bcategories:- categorie_C 5、CNAME文件被覆盖的问题当将github pages的url与自己的域名绑定后，在仓库中会生成一个CNAME文件，记录了域名。但是每次从本地部署代码后，github仓库中的CNAME文件就会被删除。 解决这个问题，可以把CNAME文件下载下来，放到仓库的/source文件夹中，再部署，就不会被覆盖了。]]></content>
      <tags>
        <tag>Hexo</tag>
        <tag>Github</tag>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2018%2F10%2F18%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
  </entry>
</search>
